<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    var a = {
        valueOf: function () {
            return 100;
        },
        toString: function () {
            return '__test';
        }
    };

    // 这个操作里，toString方法自动调用
//    alert(a); // "__test"
//    console.log(a)




    // 引用F.prototype的时候获取该对象g
    //var __objectPrototype = F.prototype;
    // 如果__objectPrototype是对象，就:
    //O.[[Prototype]] = __objectPrototype
    // 否则:
    //O.[[Prototype]] = Object.prototype;
    // 这里O.[[Prototype]]是Object对象的原型

    var foo = {a:'hello'}

    function MyObj() {

    }

    MyObj.prototype = foo
    var bar = new MyObj()
    console.log('1:',MyObj.prototype === bar.__proto__)//true
    console.log('a' in bar)//true in操作符也可以负责查找属性（也会查找原型链）

    MyObj.prototype = null
    var obj = new MyObj()
    console.log(MyObj.prototype === obj.__proto__)//false
    console.log(obj.__proto__)
    //只能通过Object.create(null) 来创建一个以null为原型的对象
    console.log('obj instanceof MyObj:',obj instanceof MyObj)//报错 Function has non-object prototype 'null' in instanceof check

    //把MyObj.prototype的注释去掉，执行下面语句
//    obj.__proto__ = null
//    console.log('obj instanceof MyObj:',obj instanceof MyObj)//不报错，但结果为false
</script>
</html>